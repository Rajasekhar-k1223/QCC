@{
    ViewBag.Title = "Inflow";
}
<script>
    $(function () {
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#image_upload_preview').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }
        

        $("#inputFile").change(function () {
            readURL(this);
        });
        $(".dropdown").hover(
            function () {
                $('.dropdown-menu', this).stop(true, true).fadeIn("fast");
                $(this).toggleClass('open');
                $('b', this).toggleClass("caret caret-up");
            },
            function () {
                $('.dropdown-menu', this).stop(true, true).fadeOut("fast");
                $(this).toggleClass('open');
                $('b', this).toggleClass("caret caret-up");
            });
    });
    function showDetails() {
        var taleshowaa = '<div><h3 style="width:96%;text-align:center;float:left;">Team Details</h3><div style="font-weight:bold;font-size:16px;padding:0.5%;float:left;cursor:pointer;" onclick="javascript:return Close();" id="close">X</div><div style="clear:both"></div></div><table class="table"><thead></thead><tbody><tr><td>Facilitator</td><td>Rajasekhar</td><td>415268</td><td>CL & Lean</td><td>M05</td></tr><tr><td>Team Leader</td><td>Revathi</td><td>517583</td><td>CL & Lean</td><td>M04</td></tr><tr><td>Team Member</td><td>Sudha</td><td>785293</td><td>MNT</td><td>M04</td></tr><tr><td>Team Member</td><td>barghav</td><td>814298</td><td>Production</td><td>M05</td></tr><tr><td>Team Member</td><td>Sekhar</td><td>453298</td><td>Production</td><td>M05</td></tr><tr><td>Team Member</td><td>Lalitha</td><td>658392</td><td>QA</td><td>M04</td></tr></tbody></table><div style="text-align:center"><button class="btn btn-success" style="margin: 2% 10% 1% 37%;font-size:12px;font-weight:bold;float:left;">Approved</button><button class="btn btn-danger" style="font-size:12px;font-weight:bold;float:left;margin: 2% 2% 1% 1%;">Reject</button><textarea style="width: 190px; height: 53px;margin: 1% 10% 1% 1%;border:1px solid #000;border-radius:5px;padding-left:5px;" placeholder="Enter Remarks"></textarea></div>';
        $(".body_blur").show();
        $("#InflowView").show();

    }
    function Close() {
        $(".showtableList,.body_blur").hide();
    }
</script>
<style>
    .nav > li > a {
        padding: 0px;
    }
    .backgroundBlur {
    width:100%;
    height:100vh;
    overflow:hidden;
    background: rgb(0, 0, 0,0.8);
    position:absolute;
    z-index:4;
    }
</style>
<svg id="ngloader" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="        position: absolute;
        margin: 13vw 45vw;
        z-index: 5;

        display: block;
        shape-rendering: auto;" width="125px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
    <g transform="translate(80,50)">
        <g transform="rotate(0)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="1">
                <animateTransform attributeName="transform" type="scale" begin="-1.875s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.875s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(77.7163859753386,61.48050297095269)">
        <g transform="rotate(22.5)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.9375">
                <animateTransform attributeName="transform" type="scale" begin="-1.75s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.75s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(71.21320343559643,71.21320343559643)">
        <g transform="rotate(45)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.875">
                <animateTransform attributeName="transform" type="scale" begin="-1.625s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.625s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(61.4805029709527,77.7163859753386)">
        <g transform="rotate(67.5)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.8125">
                <animateTransform attributeName="transform" type="scale" begin="-1.5s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.5s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(50,80)">
        <g transform="rotate(90)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.75">
                <animateTransform attributeName="transform" type="scale" begin="-1.375s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.375s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(38.51949702904731,77.7163859753386)">
        <g transform="rotate(112.5)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.6875">
                <animateTransform attributeName="transform" type="scale" begin="-1.25s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.25s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(28.786796564403577,71.21320343559643)">
        <g transform="rotate(135)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.625">
                <animateTransform attributeName="transform" type="scale" begin="-1.125s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1.125s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(22.283614024661397,61.4805029709527)">
        <g transform="rotate(157.5)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.5625">
                <animateTransform attributeName="transform" type="scale" begin="-1s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-1s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(20,50.00000000000001)">
        <g transform="rotate(180)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.5">
                <animateTransform attributeName="transform" type="scale" begin="-0.875s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.875s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(22.283614024661393,38.51949702904731)">
        <g transform="rotate(202.49999999999997)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.4375">
                <animateTransform attributeName="transform" type="scale" begin="-0.75s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.75s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(28.78679656440357,28.786796564403577)">
        <g transform="rotate(225)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.375">
                <animateTransform attributeName="transform" type="scale" begin="-0.625s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.625s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(38.51949702904729,22.283614024661404)">
        <g transform="rotate(247.49999999999997)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.3125">
                <animateTransform attributeName="transform" type="scale" begin="-0.5s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.5s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(49.99999999999999,20)">
        <g transform="rotate(270)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.25">
                <animateTransform attributeName="transform" type="scale" begin="-0.375s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.375s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(61.4805029709527,22.2836140246614)">
        <g transform="rotate(292.50000000000006)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.1875">
                <animateTransform attributeName="transform" type="scale" begin="-0.25s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.25s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(71.21320343559643,28.78679656440357)">
        <g transform="rotate(315)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.125">
                <animateTransform attributeName="transform" type="scale" begin="-0.125s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="-0.125s"></animate>
            </circle>
        </g>
    </g>
    <g transform="translate(77.7163859753386,38.51949702904729)">
        <g transform="rotate(337.49999999999994)">
            <circle cx="0" cy="0" r="4" fill="#fff" fill-opacity="0.0625">
                <animateTransform attributeName="transform" type="scale" begin="0s" values="0.6900000000000001 0.6900000000000001;1 1" keyTimes="0;1" dur="2s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="fill-opacity" keyTimes="0;1" dur="2s" repeatCount="indefinite" values="1;0" begin="0s"></animate>
            </circle>
        </g>
    </g>
    <!-- [ldio] generated by https://loading.io/ -->
</svg>
<div class="backgroundBlur"></div>
<div ng-controller="HomeController as intCtrl">
    <input type="hidden" value="@Session["empCode"]" id="myHiddenempCode" />
    <input type="hidden" value="@Session["roleId"]" id="myHiddenroleId" />
    <input type="hidden" value="@Session["empName"]" id="myHiddenempName" />
    <input type="hidden" value="@Session["functionDesc"]" id="myHiddenfunctionDesc" />
    <input type="hidden" value="@Session["functionCode"]" id="myHiddenempfunctioncode" />
    <header>
        <nav class="navbar " style="padding:1%;padding-bottom:0px;">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#" style="padding:0px;"><img src="~/Img/logo.png" style="width:170px;" /></a>
                </div>
                <ul class="nav">
                    <li class="New HeaderHide"><a href="/AReQCC/Home/TeamRegistration">Create New Team</a></li>
                    <li class="activeL Inflow HeaderHide" style="background: rgba(0, 123, 194,1);"><a href="/AReQCC/Home/Inflow" style="color:#fff;" class="">Inflow <sup style="background:yellow;color:red;font-weight:bold;padding: 0.3rem;border-radius: 1rem;">{{InflowCount}}</sup></a></li>
                    <li class="Approved HeaderHide"><a href="/AReQCC/Home/Approved">Team Approved <sup style="background:yellow;color:red;font-weight:bold;padding: 0.3rem;border-radius: 1rem;">{{ApproveCount}}</sup></a></li>
                    <li class="EditTeam HeaderHide"><a href="/AReQCC/Home/EditTeamList">Pending </a></li>
                    <li class="Rejected HeaderHide"><a href="/AReQCC/Home/Rejected">Rejected <sup style="background:yellow;color:red;font-weight:bold;padding: 0.3rem;border-radius: 1rem;">{{RejectCount}}</sup></a></li>
                    @*<li class="Dashboard HeaderHide"><a href="#">Dashboard</a></li>*@
                    <li class="Home HeaderHide"><a href="/AReQCC/Home/dashboard">Home</a></li>
                </ul>
                <div style="width: 20%;">
                    <div class="userDetailsLeft">
                        <div id="LoginDate" style="font-size: 12px;width: 200px;padding: 0% 0%;border-radius: 3px;text-align:right;font-weight: bold;"></div>
                        @*<img src="~/Img/avatar.jpg" style="width:35px;height:35px;" />*@
                        <div id="empcode" style="font-size: 12px;min-width: 200px;max-width: fit-content;margin-top:2px; padding: 1% 0%;border-radius: 3px;text-align:right;font-weight: bold;"></div>
                        <div class="text-primary" style="font-size:12px;font-weight:bold;margin-bottom: 15px;text-align:right;cursor:pointer;width:200px;text-decoration-line:underline;" ng-click="logout()">Sign Out</div>
                    </div>
                    <div class="userDetailsRight">
                        <img src="~/Img/avatar.jpg" style="width:55px;margin-top:5%;margin-left:15%;" />
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <input type="hidden" value="@Session["empCode"]" id="myHiddenempCode" />
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
            </div>
            <div class="form-group pull-left" style="width:70%">
                <input type="text" ng-model="search" class="form-control" placeholder="Search" style="width:20%;padding: 0.375rem 1.75rem;font-size: 1.4rem;float:left" />
                @*<input type="text" class="form-control" placeholder="Search for..." name="mySearch" ng-model="search">*@

            </div>
            <div class="pull-right" style="margin-left:8rem">
                View <select ng-model="viewby" ng-change="setItemsPerPage(viewby)" id="viewby"><option>3</option><option>5</option><option>10</option><option>20</option><option>30</option><option>40</option><option>50</option><option>75</option><option>100</option></select> records at a time.
            </div>
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover tabel-condensed">
                    <thead class="bg-info" style="color:#fff;font-weight:bold;text-align:center;font-size:14px;">
                        <tr>
                            <th>Id</th>
                            <th>Company</th>
                            <th>BusinessUnit</th>
                            <th>Plant</th>
                            <th>Team Name</th>
                            <th>Team Strength</th>
                            <th>Status</th>
                            <th>View</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="InFlow in filterData = (InFlowResponse | filter : search) | limitTo : pageSize : (currentPage - 1) * pageSize">
                            <th scope="row">
                                {{$index + 1}}
                            </th>
                            <td ng-hide="true">
                                {{InFlow.Id}}

                            <td>
                                {{InFlow.Company}}
                            </td>
                            <td>
                                {{InFlow.BusinessUnit}}
                            </td>
                            <td>
                                {{InFlow.Plant}}
                            </td>
                            <td>
                                {{InFlow.TeamName}}
                            </td>
                            <td>

                                @*@<div ng-if="InFlow.TeamStrength > 4">
                                        <!-- If block -->

                                    </div>
                                    <div ng-if="InFlow.TeamStrength <= 4">
                                        <!-- Your Else Block -->
                                        <h6>This team have less than 5 Members</h6>
                                    </div>*@
                                <div ng-if="InFlow.TeamStrength >= 2">
                                    {{InFlow.TeamStrength}}
                                </div>
                                <div ng-if="InFlow.TeamStrength < 2">
                                    0
                                </div>


                            </td>
                            <td ng-hide="true">
                                {{InFlow.Status}}
                            </td>
                            <td>
                                {{InFlow.StatusName}}
                            </td>
                            <td style="text-align:center">
                                <span ng-click="toggleEdit(InFlow)" class="glyphicon glyphicon-pencil" style="cursor:pointer"></span>
                                @* <div ng-if="InFlow.TeamStrength > 4">
                                        <!-- If block -->
                                        <span ng-click="toggleEdit(InFlow)" class="glyphicon glyphicon-pencil" style="cursor:pointer"></span>
                                    </div>
                                    <div ng-if="InFlow.TeamStrength <= 4">
                                        <!-- Your Else Block -->
                                        <span ng-click="sendtochange(InFlow.Plant,InFlow.TeamName)" class="glyphicon glyphicon-pencil" style="cursor:pointer"></span>
                                    </div>
                                *@

                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td align="center" colspan="8">
                                <span class="form-group pull-left page-size form-inline">
                                </span>
                                <div class="pull-right">
                                    <ul uib-pagination total-items="filterData.length" ng-model="currentPage" items-per-page="pageSize"></ul>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <div id="InflowView">
        <h3 style="width:96%;text-align:center;float:left;">Team Details</h3>
        <div style="font-weight:bold;font-size:16px;padding:0.5%;float:left;cursor:pointer;" ng-click="Close();" id="close">X</div>
        <div style="clear:both"></div>
        <div class="textshowed"></div>
        <table class="table table-bordered">
            <thead class="bg-info" style="color:#fff;font-weight:bold;text-align:center;font-size:14px;"></thead>
            <tbody>
                <tr ng-repeat="circle in CircleResponse">
                    <th scope="row">
                        {{$index + 1}}
                    </th>
                    <td ng-hide="true">
                        {{circle.CircleId}}

                    <td>
                        {{circle.CircleName}}
                    </td>
                    <td>
                        {{circle.EmpName}}
                    </td>
                    <td>
                        {{circle.EmpCode}}
                    </td>
                    <td>
                        {{circle.Department}}
                    </td>
                    <td>
                        {{circle.Grade}}
                    </td>
                </tr>
            </tbody>
        </table>
        <div style="text-align:center" class="">
            <div class="w-75 float-left text-center ApproveRejectedCheck" style="padding-left:35%;padding-top:1%;">
                <button class="btn btn-info mr-3 ApproveRejectedTeam" style="width:9rem;font-size:12px;font-weight:bold;float:left;" ng-click="Approved()">Approve</button>
                <button class="btn btn-danger ml-3 " id="rejectedPlant" style="font-size:12px;font-weight:bold;float:left;width:9rem;" ng-click="Rejected()">Reject</button>
                <button class="btn btn-danger ml-3 " id="rejectedPlantChange" style="font-size:12px;font-weight:bold;float:left;width:9rem;" ng-click="RejectedPlantNotIn()">Reject</button>
            </div>
            <div class="w-25 float-left ">
                <span id="error" style="color:red;"></span>
                <textarea style="width: 190px; height: 53px;float:left;border:1px solid #000;border-radius:5px;padding-left:5px;" ng-model="Remarks" placeholder="Enter Remarks" id="remarks"></textarea>
                <div style="clear:both;"></div>
            </div>
            <div style="clear:both"></div>
        </div>
    </div>
    <div class="body_blur"></div>
    <div class="showtableList">
    </div>
    @*<script src="~/Scripts/JsControllers/angular.js"></script>
        <script src="~/Scripts/angular.min.js"></script>*@
    <script src="~/Scripts/JsControllers/angular-1.5.8.js"></script>
    <script src="~/Scripts/JsControllers/angular-animate.js"></script>
    <script src="~/Scripts/JsControllers/angular-sanitize.js"></script>
    <script src="~/Scripts/JsControllers/ui-bootstrap-tpls-2.1.3.js"></script>
    <script src="~/Scripts/JsControllers/InflowController.js"></script>
    @*<script src="~/Scripts/ui-bootstrap-tpls-0.13.4.min.js"></script>*@
    <script>
        $(document).ready(function () {
            setTimeout(function () {
                $("#ngloader,.backgroundBlur").hide();

            }, 3000);
        });
                //function sendtochange(plant) {
                //    alert(plant);
                //}
    </script>
</div>